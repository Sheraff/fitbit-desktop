<link href="/res/fontawesome/css/all.css" rel="stylesheet">
<style>
    @font-face {
        font-family: "Proxima Nova Light";
        src: url("res/Proxima Nova Light.ttf");
    }
    #parent {
        width: 100px;
    }
    #graph {
        width: 100%;
        position: relative;
        border-radius: 50px;
        box-shadow: 0 0 0 0.5px grey, inset 0 0 0 0.5px grey;;
    }
    svg {
        width: 100%;
        overflow: visible;
    }
    svg circle {
        fill: none;
        stroke: purple;
        stroke-width: 6.5px;
        stroke-linecap: round;
        stroke-dasharray: 280px; /* 315 mathematical perimeter, 314 can't see the difference, 307 both ends are touching, 306 aesthetic '99%' */
        transform: rotate(-90deg);
        transform-origin: center;
    }
    #parent #graph #icon {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 200%;
        color: purple;
    }
    #parent #graph #medal {
        position: absolute;
        top: -4.6px;
        width: 100%;
        text-align: center;
        font-size: 3%;
        transform: scale(calc(1/3));
        color: grey;
    }
    #parent #text {
        margin-top: 6px;
        text-align: center;
        font-family: 'Proxima Nova Light', sans-serif;
        font-weight: 100;
    }
    #parent #text .value {
        font-size: 24px;
    }
    #parent #text .units {
        font-size: 13px;
    }
</style>

<div id="parent">
    <div id="graph">
        <svg viewBox="0 0 100 100">
            <circle id="progress" cx="50" cy="50" r="50"/>
        </svg>
        <i id="icon" class="fas fa-fire"></i>
        <i id="medal" class="fas fa-star"></i>
    </div>
    <div id="text">
        <span class='value'>2,957</span>
        <span class='units'>cals</span>
    </div>
</div id="parent">

<script>
    const current = 2957
    const goal = 3000

    const percent = current / goal

    progress.style.strokeDasharray = percent >= 1 ? '315px' : (Math.min(percent, .99)+.01)*306+'px'
    text.querySelector('.value').innerText = current
</script>